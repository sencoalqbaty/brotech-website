<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="register_title">BroTech - إنشاء حساب جديد</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <!-- <link rel="icon" href="../../images/favicon.ico" type="image/x-icon"> -->
    <link rel="icon" href="../../images/brotech-logo.png" type="image/png">
</head>
<body class="register-page">
    <header>
        <div class="container">
            <div class="logo">
                <div class="logo-container">
                    <img src="../../images/brotech-logo.png" alt="BroTech Logo" class="logo-img">
                    <h1 class="logo-text" data-translate="logo">BroTech</h1>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="../../index.html" data-translate="home">الرئيسية</a></li>
                    <li><a href="login.html" data-translate="login">تسجيل الدخول</a></li>
                </ul>
            </nav>
            <div class="language-switcher">
                <button onclick="changeLanguage('ar')">العربية</button>
                <button onclick="changeLanguage('en')">English</button>
            </div>
            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-toggle">
                    <input type="checkbox" id="theme-toggle" />
                    <span class="slider">
                        <i class="fas fa-moon"></i>
                        <i class="fas fa-sun"></i>
                    </span>
                </label>
            </div>
        </div>
    </header>

    <main class="auth-page">
    <div class="auth-container">
        <div class="auth-form">
            <div class="auth-form-header">
                <img src="../../images/brotech-logo.png" alt="BroTech Logo" class="auth-logo">
                <h2 data-translate="register_heading">إنشاء حساب جديد</h2>
                <p class="form-subtitle" data-translate="register_subtitle">انضم إلى مجتمع BroTech واحصل على مميزات حصرية</p>
            </div>
            
            <form id="registerForm">
                <div class="form-group">
                    <label for="register-name" data-translate="full_name">الاسم الكامل</label>
                    <input type="text" id="register-name" required placeholder="أدخل اسمك الكامل">
                </div>
                <div class="form-group">
                    <label for="register-email" data-translate="email">البريد الإلكتروني</label>
                    <input type="email" id="register-email" required placeholder="example@brotech.com">
                </div>
                <div class="form-group">
                    <label for="register-phone" data-translate="phone_number">رقم الهاتف (اختياري)</label>
                    <input type="tel" id="register-phone" placeholder="e.g., +967 773 153 278">
                </div>
                <div class="form-group">
                    <label for="register-password" data-translate="password">كلمة المرور</label>
                    <div class="password-input">
                        <input type="password" id="register-password" required placeholder="كلمة مرور قوية (8 أحرف على الأقل)">
                        <i class="fas fa-eye toggle-password" onclick="togglePassword('register-password', this)"></i>
                    </div>
                </div>
                <div class="form-group">
                    <label for="register-confirm-password" data-translate="confirm_password">تأكيد كلمة المرور</label>
                    <div class="password-input">
                        <input type="password" id="register-confirm-password" required placeholder="أعد إدخال كلمة المرور">
                        <i class="fas fa-eye toggle-password" onclick="togglePassword('register-confirm-password', this)"></i>
                    </div>
                </div>
                <div class="form-group terms-group">
                    <input type="checkbox" id="agree-terms" required>
                    <label for="agree-terms">
                        <span data-translate="agree_terms">أوافق على</span> 
                        <a href="#" data-translate="terms_conditions">الشروط والأحكام</a>
                        <span> و </span>
                        <a href="#" data-translate="privacy_policy">سياسة الخصوصية</a>
                    </label>
                </div>
                <button type="submit" class="btn-primary" data-translate="create_account">
                    <i class="fas fa-user-plus"></i> إنشاء حساب
                </button>
            </form>
            
            <div class="social-login">
                <p class="divider" data-translate="or_register_with">أو سجل عن طريق</p>
                <div class="social-buttons">
                    <button class="social-btn google" data-translate="google">
                        <i class="fab fa-google"></i> جوجل
                    </button>
                    <button class="social-btn facebook" data-translate="facebook">
                        <i class="fab fa-facebook-f"></i> فيسبوك
                    </button>
                </div>
            </div>
            
            <div class="auth-footer">
                <p data-translate="have_account">لديك حساب بالفعل؟ <a href="login.html" data-translate="sign_in">تسجيل الدخول</a></p>
            </div>
        </div>
        
        <!-- <div class="auth-image">
            <!-- <img src="../../images/register-image.jpg" alt="إنشاء حساب" loading="lazy"> -->
            <!-- <div class="image-overlay">
                <h3 data-translate="welcome_message">مرحباً بك في BroTech</h3>
                <p data-translate="register_benefits">انضم إلى منصتنا واحصل على:</p>
                <ul class="benefits-list">
                    <li><i class="fas fa-check-circle"></i> <span data-translate="benefit1">وصول سريع لجميع الخدمات</span></li>
                    <li><i class="fas fa-check-circle"></i> <span data-translate="benefit2">تحديثات فورية للمشاريع</span></li>
                    <li><i class="fas fa-check-circle"></i> <span data-translate="benefit3">دعم فني على مدار الساعة</span></li>
                </ul>
            </div>
        </div> --> -->
    </div>
</main>

<div id="loading">
    <div class="spinner"></div>
</div>

<script src="./js/language.js"></script>

<script src="../../js/theme.js"></script>
<script src="../../js/app.js"></script>
<script>
function togglePassword(inputId, icon) {
    const input = document.getElementById(inputId);
    if (input.type === "password") {
        input.type = "text";
        icon.classList.add("fa-eye-slash");
        icon.classList.remove("fa-eye");
    } else {
        input.type = "password";
        icon.classList.add("fa-eye");
        icon.classList.remove("fa-eye-slash");
    }
}
const registerForm = document.getElementById('registerForm');
if(registerForm){
    registerForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('register-email').value;
        const password = document.getElementById('register-password').value;

        try {
            const userCredential = await createUserWithEmailAndPassword(auth, email, password);
            console.log('تم إنشاء الحساب:', userCredential.user);
            // تحويل المستخدم مباشرة إلى لوحة التحكم بعد التسجيل
            window.location.href = '../../dashboard.html';
        } catch (error) {
            console.error('خطأ عند التسجيل:', error.message);
            alert(error.message);
        }
    });
}
    </script>
</body>
</html>